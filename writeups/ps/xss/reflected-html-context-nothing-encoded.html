<!DOCTYPE html>
<html dir="ltr">
<head>
    <meta charset="UTF-8">
    <title>Portswigger</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles/categories_styles.css">
    <link rel="stylesheet" href="/styles/home.css">
    <link rel="stylesheet" href="/writeups/styles/writeups-article.css">
</head>
<body data-page="portswigger">
    
    <div class="container">
        <div id="vmenu-placeholder"></div>
        <div class="main-content">
            <div id="hmenu-placeholder"></div>
            <section class="section">
                
                <!-- Article Header -->
                <header class="article-header">
                    <h1 class="article-title">Reflected XSS into HTML context with nothing encoded</h1>
                    
                    <div class="article-meta">
                        <span class="platform-badge">PortSwigger Academy</span>
                        <span class="difficulty easy">Easy</span>
                        <span class="meta-item">üìÖ October 30, 2025</span>
                        <span class="meta-item">‚è±Ô∏è 5 min read</span>
                        <span class="meta-item">üè∑Ô∏è XSS, Reflected</span>
                    </div>
                </header>

                <!-- Article Content -->
                <article class="article-content">
                    
                    <!-- Lab Description -->
                    <section class="section">
                        <h2 class="section-title">Lab Description</h2>
                        
                        <div class="lab-description">
                            <p>This lab contains a simple reflected cross-site scripting vulnerability in the search functionality.</p>
                            
                            <div class="lab-objective">
                                <strong>Objective:</strong> Perform a cross-site scripting attack that calls the <code>alert</code> function.
                            </div>
                        </div>
                    </section>

                    <!-- Understanding the Vulnerability -->
                    <section class="section">
                        <h2 class="section-title">Understanding the Vulnerability</h2>
                        
                        <p class="section-text">
                            Reflected XSS occurs when user input is immediately returned by a web application without proper sanitization or encoding. In this case, the search functionality reflects our input directly into the HTML response without any filtering.
                        </p>
                        
                        <p class="section-text">
                            Since there's no encoding applied, we can inject arbitrary HTML and JavaScript code that will be executed in the context of the victim's browser.
                        </p>
                    </section>

                    <!-- Solution -->
                    <section class="section">
                        <h2 class="section-title">Solution</h2>
                        
                        <ol class="steps-list">
                            <li>
                                <strong>Inject the XSS payload</strong>
                                <p class="section-text">Copy and paste the following payload into the search box:</p>
                                
                                <div class="code-box">
                                    <div class="code-header">
                                        <span class="code-language">JavaScript Payload</span>
                                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                                    </div>
                                    <div class="code-content">
                                        <pre><code>&lt;script&gt;alert(1)&lt;/script&gt;</code></pre>
                                    </div>
                                </div>
                            </li>
                            
                            <li>
                                <strong>Execute the search</strong>
                                <p class="section-text">Click the "Search" button to submit the payload.</p>
                            </li>
                            
                            <li>
                                <strong>Observe the alert</strong>
                                <p class="section-text">If successful, you should see an alert box pop up with the number "1", confirming the XSS vulnerability.</p>
                            </li>
                        </ol>
                    </section>

                    <!-- How It Works -->
                    <section class="section">
                        <h2 class="section-title">How It Works</h2>
                        
                        <p class="section-text">
                            When we submit our payload, the application reflects it back in the HTML response. Since there's no encoding, the browser interprets our <code>&lt;script&gt;</code> tags as legitimate JavaScript code and executes it.
                        </p>
                        
                        <p class="section-text">The flow looks like this:</p>
                        
                        <div class="code-box">
                            <div class="code-header">
                                <span class="code-language">Attack Flow</span>
                                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                            </div>
                            <div class="code-content">
                                <pre><code>1. User input: &lt;script&gt;alert(1)&lt;/script&gt;
2. Server reflects: "You searched for: &lt;script&gt;alert(1)&lt;/script&gt;"
3. Browser executes: alert(1)
4. Lab solved! ‚úì
</code></pre>
                            </div>
                        </div>
                    </section>

                    <!-- Key Takeaways -->
                    <section class="section">
                        <h2 class="section-title">Key Takeaways</h2>
                        
                        <div class="alert-box">
                            <strong>üéØ Important Points:</strong>
                            <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                                <li>Always sanitize and encode user input before reflecting it in responses</li>
                                <li>XSS can be used to steal cookies, perform actions on behalf of users, or deface websites</li>
                                <li>Modern frameworks often provide built-in XSS protection, but manual input handling requires extra care</li>
                                <li>Content Security Policy (CSP) can help mitigate XSS attacks</li>
                            </ul>
                        </div>
                    </section>

                    <!-- Back Button -->
                    <a href="/writeups/ps/xss/main.html" class="back-btn">
                        ‚Üê Back to Writeups
                    </a>

                </article>


            <script>
            function copyCode(button) {
                const codeBox = button.closest('.code-box');
                const code = codeBox.querySelector('code').textContent;
                
                navigator.clipboard.writeText(code).then(() => {
                    const originalText = button.textContent;
                    button.textContent = 'Copied!';
                    button.style.background = '#22c55e';
                    button.style.borderColor = '#22c55e';
                    button.style.color = 'white';
                    
                    setTimeout(() => {
                        button.textContent = originalText;
                        button.style.background = 'transparent';
                        button.style.borderColor = '#6366f1';
                        button.style.color = '#818cf8';
                    }, 2000);
                });
            }
            </script>



            </section>
                

        </div>

        <script>
            fetch("/components/hor-menu.html")
                .then(response => response.text())
                .then(data => {
                document.getElementById("hmenu-placeholder").innerHTML = data;
                });
        </script>
        <script>
            fetch("/components/ver-menu.html")
                .then(response => response.text())
                .then(data => {
                    document.getElementById("vmenu-placeholder").innerHTML = data;
                    
                    // load berfore active
                    const page = document.body.dataset.page;
                    const links = document.querySelectorAll('.nav-link');
                    
                    links.forEach(link => link.classList.remove('active'));
                    
                    links.forEach(link => {
                        if (link.dataset.page === page) {
                            link.classList.add('active');
                            console.log(`‚úÖ Active set for: ${page}`);
                        }
                    });
                });
        </script>

        
    </div>
</body>
</html>