<head>
    <link rel="stylesheet" href="/styles/ver-menu.css">
</head>

<button class="menu-toggle-btn" onclick="toggleSidebar()" aria-label="Toggle menu">
    â˜°
</button>

<div class="sidebar-menu" id="sidebarMenu">
    <div class="sidebar-logo">
            <div class="banner-section">
                <div class="banner"></div>
                <div class="profile-pic-wrapper">
                    <div class="profile-pic"></div>
                </div>
            </div>

            <div class="logo-text">
                <span class="logo-highlight">Berghiche</span> Youcef
            </div>
    </div>

    <nav class="sidebar-nav">
        <div class="nav-section">
            <div class="nav-section-title">Main</div>
            <a href="/home.html" class="nav-link" data-page="home">
                <span class="icon">ğŸ </span>
                <span class="label">Home</span>
            </a>
            <a href="/updates.html" class="nav-link" data-page="updates">
                <span class="icon">ğŸ””</span>
                <span class="label">Updates</span>
            </a>
            <a href="/aboutme.html" class="nav-link" data-page="aboutme">
                <span class="icon">ğŸ‘¤</span>
                <span class="label">About Me</span>
            </a>
            <a href="/search.html" class="nav-link" data-page="search">
                <span class="icon">ğŸ”</span>
                <span class="label">Search</span>
            </a>

        </div>


        <div class="nav-section">
            <div class="nav-section-title">Me</div>
            <a href="/home.html" class="nav-link" data-page="home">
                <span class="icon">ğŸ“’</span>
                <span class="label">Writeups</span>
            </a>
        </div>


      


        <div class="nav-section">
            <div class="nav-section-title">Writeups</div>
            <a href="/writeups/ps/portswigger.html" class="nav-link " data-page="portswigger">
                <span class="icon">ğŸ™</span>
                <span class="label">Portswigger</span>
            </a>
            <a href="/writeups/thm/tryhackme.html" class="nav-link" data-page="tryhackme">
                <span class="icon">ğŸ§©</span>
                <span class="label">TryHackMe</span>
            </a>
            <a href="/writeups/otw/overthewire.html" class="nav-link" data-page="overthewire">
                <span class="icon">âš¡</span>
                <span class="label">OverTheWire</span>
            </a>
            <a href="/writeups/sph/superhacker.html" class="nav-link" data-page="superhacker">
                <span class="icon">ğŸ†</span>
                <span class="label">SuperHacker Series</span>
            </a>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Projects</div>
            <a href="/projects/tools.html" class="nav-link" data-page="tools">
                <span class="icon">ğŸ› ï¸</span>
                <span class="label">Tools</span>
            </a>
            <a href="/projects/labs.html" class="nav-link" data-page="labs">
                <span class="icon">ğŸ§ª</span>
                <span class="label">Labs</span>
            </a>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Contact</div>
            <a href="/contactme.html" class="nav-link" data-page="contactme">
                <span class="icon">ğŸ“§</span>
                <span class="label">Contact Me</span>
            </a>
        </div>
    </nav>

    <div class="sidebar-footer">
        <div class="copyright">
            Â© 2025 Berghiche.Blog
        </div>
    </div>
</div>

<script>
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebarMenu');
        sidebar.classList.toggle('active');
    }

    // Close sidebar when clicking outside on mobile
    document.addEventListener('click', function(event) {
        if (window.innerWidth <= 768) {
            const sidebar = document.getElementById('sidebarMenu');
            const toggle = document.querySelector('.menu-toggle-btn');
            
            if (!sidebar.contains(event.target) && !toggle.contains(event.target)) {
                sidebar.classList.remove('active');
            }
        }
    });

    document.addEventListener('DOMContentLoaded', function() {
        // 1) page identity Ù…Ù† body
        const page = document.body.dataset.page; // e.g. "portswigger"
        const links = document.querySelectorAll('.nav-link');

        // 2) Ø´ÙŠÙ„ ÙƒÙ„ active Ø£ÙˆÙ„Ù‹Ø§
        links.forEach(link => link.classList.remove('active'));

        // 3) Ù„Ùˆ Ù…Ø§ ÙÙŠÙ‡ page Ù…Ø§ Ù†Ø³ÙˆÙŠ Ø´ÙŠØ¡
        if (!page) {
            console.log('vmenu: no data-page set on <body>, no active link will be set.');
            return;
        }

        // 4) Ù†Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚ Ø¨ÙˆØ§Ø³Ø·Ø© data-page attribute Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø§Ø¨Ø· Ù†ÙØ³Ù‡
        let matched = false;
        links.forEach(link => {
            const linkPage = link.dataset.page; // Ù„Ø§Ø²Ù… ØªØ¶ÙŠÙ data-page Ù„ÙƒÙ„ Ø±Ø§Ø¨Ø·
            if (linkPage && linkPage === page) {
            link.classList.add('active');
            matched = true;
            }
        });

        // 5) debugging Ù…ÙÙŠØ¯ Ù„Ùˆ Ù…Ø§ ÙÙŠ ØªØ·Ø§Ø¨Ù‚
        if (!matched) {
            console.log(`vmenu: no nav-link matched data-page="${page}".`);
        } else {
            console.log(`vmenu: active set for data-page="${page}".`);
        }
    });

</script>
